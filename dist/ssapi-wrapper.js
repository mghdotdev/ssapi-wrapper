!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SSAPI=t():e.SSAPI=t()}(this,function(){return n={},__webpack_require__.m=r=[function(e,t,r){"use strict";function A(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r}var a=Object.prototype.hasOwnProperty,l=Array.isArray,s=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}();e.exports={arrayToObject:A,assign:function(e,r){return Object.keys(r).reduce(function(e,t){return e[t]=r[t],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],o=i.obj[i.prop],a=Object.keys(o),s=0;s<a.length;++s){var u=a[s],c=o[u];"object"==typeof c&&null!==c&&-1===r.indexOf(c)&&(t.push({obj:o,prop:u}),r.push(c))}return function(e){for(;1<e.length;){var t=e.pop(),r=t.obj[t.prop];if(l(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r){if(0===e.length)return e;var n="string"==typeof e?e:String(e);if("iso-8859-1"===r)return escape(n).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var i="",o=0;o<n.length;++o){var a=n.charCodeAt(o);45===a||46===a||95===a||126===a||48<=a&&a<=57||65<=a&&a<=90||97<=a&&a<=122?i+=n.charAt(o):a<128?i+=s[a]:a<2048?i+=s[192|a>>6]+s[128|63&a]:a<55296||57344<=a?i+=s[224|a>>12]+s[128|a>>6&63]+s[128|63&a]:(o+=1,a=65536+((1023&a)<<10|1023&n.charCodeAt(o)),i+=s[240|a>>18]+s[128|a>>12&63]+s[128|a>>6&63]+s[128|63&a])}return i},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function merge(n,i,o){if(!i)return n;if("object"!=typeof i){if(l(n))n.push(i);else{if(!n||"object"!=typeof n)return[n,i];(o&&(o.plainObjects||o.allowPrototypes)||!a.call(Object.prototype,i))&&(n[i]=!0)}return n}if(!n||"object"!=typeof n)return[n].concat(i);var e=n;return l(n)&&!l(i)&&(e=A(n,o)),l(n)&&l(i)?(i.forEach(function(e,t){var r;a.call(n,t)?(r=n[t])&&"object"==typeof r&&e&&"object"==typeof e?n[t]=merge(r,e,o):n.push(e):n[t]=e}),n):Object.keys(i).reduce(function(e,t){var r=i[t];return a.call(e,t)?e[t]=merge(e[t],r,o):e[t]=r,e},e)}}},function(e,t,r){"use strict";var n=String.prototype.replace,i=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return n.call(e,i,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(e,t,r){"use strict";var n=r(4),i=r(5),o=r(1);e.exports={formats:o,parse:i,stringify:n}},function(e,t,r){e.exports=r(7)},function(e,t,r){"use strict";function eb(e,t){n.apply(e,_(t)?t:[t])}var g=r(0),p=r(1),d=Object.prototype.hasOwnProperty,h={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},_=Array.isArray,n=Array.prototype.push,i=Date.prototype.toISOString,w={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:g.encode,encodeValuesOnly:!1,formatter:p.formatters[p.default],indices:!1,serializeDate:function(e){return i.call(e)},skipNulls:!1,strictNullHandling:!1};e.exports=function(e,t){var r=e,n=function(e){if(!e)return w;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||w.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=p.default;if(void 0!==e.format){if(!d.call(p.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=p.formatters[r],i=w.filter;return"function"!=typeof e.filter&&!_(e.filter)||(i=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:w.addQueryPrefix,allowDots:void 0===e.allowDots?w.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:w.charsetSentinel,delimiter:void 0===e.delimiter?w.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:w.encode,encoder:"function"==typeof e.encoder?e.encoder:w.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:w.encodeValuesOnly,filter:i,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:w.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:w.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:w.strictNullHandling}}(t);"function"==typeof n.filter?r=(0,n.filter)("",r):_(n.filter)&&(s=n.filter);var i,o=[];if("object"!=typeof r||null===r)return"";i=t&&t.arrayFormat in h?t.arrayFormat:!(t&&"indices"in t)||t.indices?"indices":"repeat";var a=h[i],s=s||Object.keys(r);n.sort&&s.sort(n.sort);for(var u=0;u<s.length;++u){var c=s[u];n.skipNulls&&null===r[c]||eb(o,function stringify(e,t,r,n,i,o,a,s,u,c,l,f,p){var d=e;if("function"==typeof a?d=a(t,d):d instanceof Date?d=c(d):"comma"===r&&_(d)&&(d=d.join(",")),null===d){if(n)return o&&!f?o(t,w.encoder,p):t;d=""}if("string"==typeof d||"number"==typeof d||"boolean"==typeof d||g.isBuffer(d))return o?[l(f?t:o(t,w.encoder,p))+"="+l(o(d,w.encoder,p))]:[l(t)+"="+l(String(d))];var h,y,b=[];if(void 0===d)return b;y=_(a)?a:(h=Object.keys(d),s?h.sort(s):h);for(var v=0;v<y.length;++v){var m=y[v];i&&null===d[m]||(_(d)?eb(b,stringify(d[m],"function"==typeof r?r(t,m):t,r,n,i,o,a,s,u,c,l,f,p)):eb(b,stringify(d[m],t+(u?"."+m:"["+m+"]"),r,n,i,o,a,s,u,c,l,f,p)))}return b}(r[c],c,a,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.formatter,n.encodeValuesOnly,n.charset))}var l=o.join(n.delimiter),f=!0===n.addQueryPrefix?"?":"";return n.charsetSentinel&&("iso-8859-1"===n.charset?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),0<l.length?f+l:""}},function(e,t,r){"use strict";function jc(e,t){var r,n,i,o,a,s,u={},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,l=t.parameterLimit===1/0?void 0:t.parameterLimit,f=c.split(t.delimiter,l),p=-1,d=t.charset;if(t.charsetSentinel)for(r=0;r<f.length;++r)0===f[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===f[r]?d="utf-8":"utf8=%26%2310003%3B"===f[r]&&(d="iso-8859-1"),p=r,r=f.length);for(r=0;r<f.length;++r){r!==p&&((s=-1===(o=-1===(i=(n=f[r]).indexOf("]="))?n.indexOf("="):i+1)?(a=t.decoder(n,b.decoder,d),t.strictNullHandling?null:""):(a=t.decoder(n.slice(0,o),b.decoder,d),t.decoder(n.slice(o+1),b.decoder,d)))&&t.interpretNumericEntities&&"iso-8859-1"===d&&(s=s.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})),s&&t.comma&&-1<s.indexOf(",")&&(s=s.split(",")),y.call(u,a)?u[a]=h.combine(u[a],s):u[a]=s)}return u}function lc(e,t,r){if(e){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/g,o=/(\[[^[\]]*])/.exec(n),a=o?n.slice(0,o.index):n,s=[];if(a){if(!r.plainObjects&&y.call(Object.prototype,a)&&!r.allowPrototypes)return;s.push(a)}for(var u=0;null!==(o=i.exec(n))&&u<r.depth;){if(u+=1,!r.plainObjects&&y.call(Object.prototype,o[1].slice(1,-1))&&!r.allowPrototypes)return;s.push(o[1])}return o&&s.push("["+n.slice(o.index)+"]"),function(e,t,r){for(var n=t,i=e.length-1;0<=i;--i){var o,a,s,u=e[i];"[]"===u&&r.parseArrays?o=[].concat(n):(o=r.plainObjects?Object.create(null):{},a="["===u.charAt(0)&&"]"===u.charAt(u.length-1)?u.slice(1,-1):u,s=parseInt(a,10),r.parseArrays||""!==a?!isNaN(s)&&u!==a&&String(s)===a&&0<=s&&r.parseArrays&&s<=r.arrayLimit?(o=[])[s]=n:o[a]=n:o={0:n}),n=o}return n}(s,t,r)}}var h=r(0),y=Object.prototype.hasOwnProperty,b={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:h.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1};e.exports=function(e,t){var r=function(e){if(!e)return b;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?b.charset:e.charset;return{allowDots:void 0===e.allowDots?b.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:b.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:b.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:b.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:b.comma,decoder:"function"==typeof e.decoder?e.decoder:b.decoder,delimiter:"string"==typeof e.delimiter||h.isRegExp(e.delimiter)?e.delimiter:b.delimiter,depth:"number"==typeof e.depth?e.depth:b.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:b.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:b.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:b.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:b.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var n="string"==typeof e?jc(e,r):e,i=r.plainObjects?Object.create(null):{},o=Object.keys(n),a=0;a<o.length;++a)var s=o[a],u=lc(s,n[s],r),i=h.merge(i,u,r);return h.compact(i)}},function(e,t){!function(){if("undefined"!=typeof window)try{var e=new window.CustomEvent("test",{cancelable:!0});if(e.preventDefault(),!0!==e.defaultPrevented)throw new Error("Could not prevent default")}catch(e){function jd(e,t){var r,n;return(t=t||{}).bubbles=!!t.bubbles,t.cancelable=!!t.cancelable,(r=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n=r.preventDefault,r.preventDefault=function(){n.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},r}jd.prototype=window.Event.prototype,window.CustomEvent=jd}}()},function(e,t,r){"use strict";function ownKeys(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach(function(e){_defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.r(t),r.d(t,"Client",function(){return c}),r.d(t,"createPages",function(){return l});var n={resultsFormat:"native"},i=function(){function State(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,State),this.siteId=e,this.defaultParams=_objectSpread(_objectSpread({siteId:this.siteId},n),t),this.params=_objectSpread({},this.defaultParams),this.filters=[],this.sorting={},this.debug=r}var e,t,r;return e=State,(t=[{key:"_compareFilterRanges",value:function(e,t){return e[0]==t[0]&&e[1]==t[1]}},{key:"_compareFilterValues",value:function(e,t){var r=Array.isArray(e),n=Array.isArray(t);return r&&n?this._compareFilterRanges(e,t):!r&&!n&&e==t}},{key:"_outputFilters",value:function(){return this.filters.reduce(function(e,t){var r="".concat(t.type,".").concat(t.field);return Array.isArray(t.value)?_objectSpread(_objectSpread(_objectSpread({},e),null!=t.value[0]&&_defineProperty({},"".concat(r,".low"),t.value[0])),null!=t.value[1]&&_defineProperty({},"".concat(r,".high"),t.value[1])):(e[r]=e[r]||[],e[r].push(t.value),e)},{})}},{key:"_outputSort",value:function(){if(this.sorting.field&&this.sorting.direction)return _defineProperty({},"sort.".concat(this.sorting.field),this.sorting.direction)}},{key:"_transformFilterType",value:function(e){return e?"bgfilter":"filter"}},{key:"addFilter",value:function(e,t,r){var n=2<arguments.length&&void 0!==r&&r;if(null==e)throw new TypeError("[SSAPI][State].addFilter - `field` is undefined.");if(null==t)throw new TypeError("[SSAPI][State].addFilter - `value` is undefined.");var i={field:e,value:t,type:this._transformFilterType(n)};return this.filters.push(i),this}},{key:"removeFilter",value:function(t,r,e){var n=this,i=2<arguments.length&&void 0!==e&&e;if(null==t)throw new TypeError("[SSAPI][State].removeFilter - `field` is undefined.");if(null==r)throw new TypeError("[SSAPI][State].removeFilter - `value` is undefined.");var o=this._transformFilterType(i);return this.filters=this.filters.filter(function(e){return!(e.field==t&&e.type==o&&n._compareFilterValues(e.value,r))}),this}},{key:"toggleFilter",value:function(t,r,e){var n=this,i=2<arguments.length&&void 0!==e&&e;if(null==t)throw new TypeError("[SSAPI][State].toggleFilter - `field` is undefined.");if(null==r)throw new TypeError("[SSAPI][State].toggleFilter - `value` is undefined.");var o=this._transformFilterType(i);return this.filters.find(function(e){return e.field==t&&e.type==o&&n._compareFilterValues(e.value,r)})?this.removeFilter(t,r,i):this.addFilter(t,r,i)}},{key:"query",value:function(e){return this.params.q=e,this}},{key:"perPage",value:function(e){return this.params.resultsPerPage=e,this}},{key:"page",value:function(e){return this.params.page=e,this}},{key:"sort",value:function(e,t){var r=1<arguments.length&&void 0!==t?t:"asc";if(null==e)throw new TypeError('[SSAPI][State].sort - "field" is undefined.');return this.sorting={field:e,direction:r},this}},{key:"reset",value:function(){return this.params=_objectSpread({},this.defaultParams),this.filters=[],this.sorting={},this}},{key:"clearFacets",value:function(){return this.filters=this.filters.filter(function(e){return!("filter"==e.type)}),this}},{key:"other",value:function(e,t){return this.params[e]=t,this}},{key:"output",get:function(){return _objectSpread(_objectSpread(_objectSpread({},this.params),this._outputFilters()),this._outputSort())}}])&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),State}(),o=r(2),a=r.n(o);function RequestCache_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Request_ownKeys(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Request_objectSpread(i){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Request_ownKeys(Object(o),!0).forEach(function(e){var t,r,n;t=i,n=o[r=e],r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):Request_ownKeys(Object(o)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(o,e))})}return i}function Request_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=new(function(){function RequestCache(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1e3;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RequestCache),this.store=new Map,this.throttleTime=e}var e,t,r;return e=RequestCache,(t=[{key:"access",value:function(e){var t=this.store.get(e);if(t){var r=Date.now();return t.timestamp-r>this.throttleTime?this.remove(e):t.data}return null}},{key:"insert",value:function(e,t){var r={timestamp:Date.now(),data:t};return this.store.set(e,r),!0}},{key:"purge",value:function(){return this.store.clear(),!0}},{key:"remove",value:function(e){return this.store.delete(e)}}])&&RequestCache_defineProperties(e.prototype,t),r&&RequestCache_defineProperties(e,r),RequestCache}())(3e4),u=function(){function Request(e,t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Request),this.endpoint=e,this.method=t,this.params=r}var e,t,r;return e=Request,(t=[{key:"serializeParams",value:function(e){return a.a.stringify(e,{arrayFormat:"repeat"})}},{key:"buildUrl",value:function(e,t){return-1<e.indexOf("?")?"".concat(e).concat(t):"".concat(e,"?").concat(t)}},{key:"send",value:function(){var a=this;return new Promise(function(t,r){var n=a.serializeParams(Request_objectSpread({},a.params)),i=a.buildUrl(a.endpoint,n),e=s.access(i);if(null!=e)return t(e);var o=new XMLHttpRequest;o.open("GET",i),o.responseType="json",o.send(),o.onreadystatechange=function(){var e;4==o.readyState&&(200==o.status?(e={response:{status:o.status,responseURL:o.responseURL,responseType:o.responseType,data:"object"==_typeof(o.response)?o.response:JSON.parse(o.response)},requestParams:Request_objectSpread({},a.params),requestQueryString:n},s.insert(i,e),t(e)):(console.error("[SSAPI][Request].send - Error with response.","Code: ".concat(o.status,".")),r(o)))}})}}])&&Request_defineProperties(e.prototype,t),r&&Request_defineProperties(e,r),Request}();r(6);function Client_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=function(){function Client(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Client),null==e)throw new TypeError("[SSAPI][Client].constructor - `siteId` is undefined.");this.state=new i(e,t,r),this.endpoint="https://api.searchspring.net/api/search/search.json",this.method="GET",this.events=["search"],this.bus=document.createElement("div"),this.debug=r}var e,t,r;return e=Client,(t=[{key:"search",value:function(){var t=this;return new u(this.endpoint,this.method,this.state.output).send().then(function(e){return t.bus.dispatchEvent(new CustomEvent("search",{detail:e.data})),e})}},{key:"on",value:function(e,t){if(-1===this.events.indexOf(e))throw new Error('[SSAPI][Client].on - Event "'.concat(e,'" does not exist.'));this.bus.addEventListener(e,t,!1)}},{key:"off",value:function(e,t){if(-1===this.events.indexOf(e))throw new Error('[SSAPI][Client].off - Event "'.concat(e,'" does not exist.'));this.bus.removeEventListener(e,t,!1)}},{key:"setState",value:function(t){var i=this;if(null==t)throw new TypeError("[SSAPI][Client].setState - `state` is undefined.");var r=[{pattern:/^sort\.(.*)$/,fn:"sort",match:1},{pattern:/^filter\.(.*)$/,fn:"filter",match:1},{pattern:/^bgfilter\.(.*)$/,fn:"backgroundFilter",match:1}];for(var e in t)!function(e){var n=t[e];switch(e){case"q":i.query(n);break;case"resultsPerPage":i.perPage(n);break;case"page":i.page(n);break;default:if(!r.some(function(t){var r=e.match(t.pattern);if(r)return Array.isArray(n)?n.map(function(e){null!=e&&i[t.fn](r[t.match],e)}):null!=n&&i[t.fn](r[t.match],n),!0})){i.other(e,n);break}}}(e);return this}},{key:"other",value:function(e,t){return this.state.other(e,t),this}},{key:"reset",value:function(){return this.state.reset(),this}},{key:"clearFacets",value:function(e){return(!(0<arguments.length&&void 0!==e)||e)&&this.state.page(1),this.state.clearFacets(),this}},{key:"clearFilters",value:function(e){return this.clearFacets(e),this}},{key:"perPage",value:function(e,t){return(!(1<arguments.length&&void 0!==t)||t)&&this.state.page(1),this.state.perPage(e),this}},{key:"page",value:function(e){return this.state.page(e),this}},{key:"sort",value:function(e,t){return this.debug&&console.trace("[SSAPI][Client].sort - field: ".concat(e," | direction: ").concat(t)),this.state.sort(e,t),this}},{key:"filter",value:function(e,t,r){return(!(2<arguments.length&&void 0!==r)||r)&&this.state.page(1),this.state.toggleFilter(e,t,!1),this}},{key:"facet",value:function(e,t){return this.filter(e,t,!1),this}},{key:"backgroundFilter",value:function(e,t,r){return(!(2<arguments.length&&void 0!==r)||r)&&this.state.page(1),this.state.toggleFilter(e,t,!0),this}},{key:"backgroundFacet",value:function(e,t,r){return this.backgroundFilter(e,t,r),this}},{key:"query",value:function(e,t){return(!(1<arguments.length&&void 0!==t)||t)&&this.state.page(1),this.state.query(e),this}}])&&Client_defineProperties(e.prototype,t),r&&Client_defineProperties(e,r),Client}(),l=function(e){for(var t=[],r=1;r<=e.totalPages;r++)t.push(r);return t}}],__webpack_require__.c=n,__webpack_require__.d=function(e,t,r){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(t,e){if(1&e&&(t=__webpack_require__(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(__webpack_require__.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)__webpack_require__.d(r,n,function(e){return t[e]}.bind(null,n));return r},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=3);function __webpack_require__(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,__webpack_require__),t.l=!0,t.exports}var r,n});
//# sourceMappingURL=ssapi-wrapper.js.map