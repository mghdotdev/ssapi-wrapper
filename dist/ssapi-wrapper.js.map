{"version":3,"sources":["webpack://SSAPI/webpack/universalModuleDefinition","webpack://SSAPI/webpack/bootstrap","webpack://SSAPI/./node_modules/.pnpm/qs@6.9.4/node_modules/qs/lib/utils.js","webpack://SSAPI/./node_modules/.pnpm/qs@6.9.4/node_modules/qs/lib/formats.js","webpack://SSAPI/./node_modules/.pnpm/qs@6.9.4/node_modules/qs/lib/index.js","webpack://SSAPI/./node_modules/.pnpm/qs@6.9.4/node_modules/qs/lib/stringify.js","webpack://SSAPI/./node_modules/.pnpm/qs@6.9.4/node_modules/qs/lib/parse.js","webpack://SSAPI/./node_modules/.pnpm/custom-event-polyfill@1.0.7/node_modules/custom-event-polyfill/polyfill.js","webpack://SSAPI/./src/SSAPI/State.js","webpack://SSAPI/./src/SSAPI/Request.js","webpack://SSAPI/./src/SSAPI/RequestCache.js","webpack://SSAPI/./src/SSAPI/Client.js","webpack://SSAPI/./src/index.js"],"names":["root","factory","exports","module","define","amd","this","installedModules","__webpack_require__","m","arrayToObject","source","options","obj","plainObjects","Object","create","i","length","merge","target","isArray","push","allowPrototypes","has","call","prototype","concat","mergeTarget","forEach","item","targetItem","keys","reduce","acc","key","value","hasOwnProperty","Array","hexTable","array","toString","toUpperCase","assign","combine","a","b","compact","queue","o","prop","refs","j","val","indexOf","pop","compacted","compactQueue","decode","str","decoder","charset","strWithoutPlus","replace","unescape","decodeURIComponent","e","encode","defaultEncoder","string","Symbol","String","escape","$0","parseInt","slice","out","c","charCodeAt","charAt","isBuffer","constructor","isRegExp","maybeMap","fn","mapped","percentTwenties","util","Format","RFC1738","RFC3986","formatters","stringify","parse","formats","pushToArray","arr","valueOrArray","apply","object","prefix","generateArrayPrefix","strictNullHandling","skipNulls","encoder","filter","sort","allowDots","serializeDate","formatter","encodeValuesOnly","Date","utils","join","defaults","v","objKeys","values","keyPrefix","arrayPrefixGenerators","brackets","comma","indices","repeat","toISO","toISOString","defaultFormat","addQueryPrefix","charsetSentinel","delimiter","format","date","opts","undefined","TypeError","normalizeStringifyOptions","arrayFormat","joined","parseArrayValue","split","parseValues","part","cleanStr","ignoreQueryPrefix","limit","parameterLimit","Infinity","parts","skipIndex","pos","bracketEqualsPos","encodedVal","interpretNumericEntities","numberStr","fromCharCode","parseKeys","givenKey","valuesParsed","child","segment","depth","exec","parent","index","chain","leaf","cleanRoot","parseArrays","isNaN","arrayLimit","0","parseObject","normalizeParseOptions","tempObj","newObj","window","ce","CustomEvent","cancelable","preventDefault","defaultPrevented","Error","event","params","evt","origPrevent","bubbles","document","createEvent","initCustomEvent","detail","defineProperty","get","Event","DEFAULT_PARAMS","resultsFormat","State","siteId","passedDefaultParams","debug","defaultParams","filters","sorting","lockedState","range1","range2","value1","value2","arrayCheck1","arrayCheck2","_compareFilterRanges","output","keyRoot","type","field","lowKey","highKey","direction","backgroundFilter","_transformFilterType","_compareFilterValues","find","removeFilter","addFilter","q","n","resultsPerPage","page","_outputFilters","_outputSort","cache","throttleTime","store","Map","record","now","timestamp","remove","data","set","clear","delete","Request","endpoint","method","qs","Promise","resolve","reject","queryString","serializeParams","url","buildUrl","cacheResponse","access","xhr","XMLHttpRequest","open","responseType","send","onreadystatechange","returnObject","readyState","status","response","responseURL","JSON","requestParams","requestQueryString","insert","console","error","Client","defaultSearchParams","state","events","bus","createElement","stateSetFromFunction","then","request","dispatchEvent","filterSummary","map","rangeLow","rangeHigh","callback","addEventListener","removeEventListener","dynamicSetTests","pattern","match","query","perPage","some","test","filterValue","other","reset","lock","clearFacets","resetPage","trace","toggleFilter","createPages","pagination","pages","totalPages","d","name","getter","enumerable","r","toStringTag","t","mode","__esModule","ns","bind","property","p","s","moduleId","l","modules"],"mappings":"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","file":"ssapi-wrapper.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SSAPI\"] = factory();\n\telse\n\t\troot[\"SSAPI\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    /* eslint no-param-reassign: 0 */\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if ((options && (options.plainObjects || options.allowPrototypes)) || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, decoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar encode = function encode(str, defaultEncoder, charset) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== 'string') {\n        string = String(str);\n    }\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b) {\n    return [].concat(a, b);\n};\n\nvar maybeMap = function maybeMap(val, fn) {\n    if (isArray(val)) {\n        var mapped = [];\n        for (var i = 0; i < val.length; i += 1) {\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    maybeMap: maybeMap,\n    merge: merge\n};\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nvar util = require('./utils');\n\nvar Format = {\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\nmodule.exports = util.assign(\n    {\n        'default': Format.RFC3986,\n        formatters: {\n            RFC1738: function (value) {\n                return replace.call(value, percentTwenties, '+');\n            },\n            RFC3986: function (value) {\n                return String(value);\n            }\n        }\n    },\n    Format\n);\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    formatter,\n    encodeValuesOnly,\n    charset\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = utils.maybeMap(obj, function (value) {\n            if (value instanceof Date) {\n                return serializeDate(value);\n            }\n            return value;\n        }).join(',');\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key') : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key');\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value'))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n        var value = obj[key];\n\n        if (skipNulls && value === null) {\n            continue;\n        }\n\n        var keyPrefix = isArray(obj)\n            ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(prefix, key) : prefix\n            : prefix + (allowDots ? '.' + key : '[' + key + ']');\n\n        pushToArray(values, stringify(\n            value,\n            keyPrefix,\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encoder,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            formatter,\n            encodeValuesOnly,\n            charset\n        ));\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.encoder !== null && opts.encoder !== undefined && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (opts && opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if (opts && 'indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('✓')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\nvar parseArrayValue = function (val, options) {\n    if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {\n        return val.split(',');\n    }\n\n    return val;\n};\n\n// This is what browsers will submit when the ✓ character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the ✓ character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('✓')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset, 'key');\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');\n            val = utils.maybeMap(\n                parseArrayValue(part.slice(pos + 1), options),\n                function (encodedVal) {\n                    return options.decoder(encodedVal, defaults.decoder, charset, 'value');\n                }\n            );\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(val);\n        }\n\n        if (part.indexOf('[]=') > -1) {\n            val = isArray(val) ? [val] : val;\n        }\n\n        if (has.call(obj, key)) {\n            obj[key] = utils.combine(obj[key], val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options, valuesParsed) {\n    var leaf = valuesParsed ? val : parseArrayValue(val, options);\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            obj = [].concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (!options.parseArrays && cleanRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj; // eslint-disable-line no-param-reassign\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options, valuesParsed) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = options.depth > 0 && brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options, valuesParsed);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.decoder !== null && opts.decoder !== undefined && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    return {\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        // eslint-disable-next-line no-implicit-coercion, no-extra-parens\n        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options, typeof str === 'string');\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    return utils.compact(obj);\n};\n","// Polyfill for creating CustomEvents on IE9/10/11\n\n// code pulled from:\n// https://github.com/d4tocchini/customevent-polyfill\n// https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent#Polyfill\n\n(function() {\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  try {\n    var ce = new window.CustomEvent('test', { cancelable: true });\n    ce.preventDefault();\n    if (ce.defaultPrevented !== true) {\n      // IE has problems with .preventDefault() on custom events\n      // http://stackoverflow.com/questions/23349191\n      throw new Error('Could not prevent default');\n    }\n  } catch (e) {\n    var CustomEvent = function(event, params) {\n      var evt, origPrevent;\n      params = params || {};\n      params.bubbles = !!params.bubbles;\n      params.cancelable = !!params.cancelable;\n\n      evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(\n        event,\n        params.bubbles,\n        params.cancelable,\n        params.detail\n      );\n      origPrevent = evt.preventDefault;\n      evt.preventDefault = function() {\n        origPrevent.call(this);\n        try {\n          Object.defineProperty(this, 'defaultPrevented', {\n            get: function() {\n              return true;\n            }\n          });\n        } catch (e) {\n          this.defaultPrevented = true;\n        }\n      };\n      return evt;\n    };\n\n    CustomEvent.prototype = window.Event.prototype;\n    window.CustomEvent = CustomEvent; // expose definition to window\n  }\n})();\n","const DEFAULT_PARAMS = {\n\tresultsFormat: 'native'\n};\n\nclass State {\n\n\tconstructor( siteId, passedDefaultParams = {}, debug = false ) {\n\n\t\tthis.siteId = siteId;\n\t\tthis.defaultParams = { siteId: this.siteId, ...DEFAULT_PARAMS, ...passedDefaultParams };\n\t\tthis.params = { ...this.defaultParams };\n\t\tthis.filters = [];\n\t\tthis.sorting = {};\n\t\tthis.debug = debug;\n\t\tthis.lockedState = {};\n\n\t}\n\n\t_compareFilterRanges( range1, range2 ) {\n\t\treturn ( range1[ 0 ] == range2[ 0 ] && range1[ 1 ] == range2[ 1 ] );\n\t}\n\n\t_compareFilterValues( value1, value2 ) {\n\n\t\tconst arrayCheck1 = Array.isArray( value1 );\n\t\tconst arrayCheck2 = Array.isArray( value2 );\n\n\t\tif ( arrayCheck1 && arrayCheck2 ) {\n\t\t\treturn this._compareFilterRanges( value1, value2 );\n\t\t}\n\t\telse if ( arrayCheck1 || arrayCheck2 ) {\n\t\t\treturn false;\n\t\t}\n\t\telse {\n\t\t\treturn ( value1 == value2 );\n\t\t}\n\n\t}\n\n\t_outputFilters() {\n\n\t\treturn this.filters.reduce(( output, filter ) => {\n\n\t\t\tlet keyRoot = `${ filter.type }.${ filter.field }`;\n\n\t\t\tif ( Array.isArray( filter.value ) ) {\n\n\t\t\t\tlet lowKey = `${ keyRoot }.low`;\n\t\t\t\tlet highKey = `${ keyRoot }.high`;\n\n\t\t\t\treturn {\n\t\t\t\t\t...output,\n\t\t\t\t\t...(filter.value[0] != undefined && { [ lowKey ]: ( Array.isArray( output[ lowKey ] ) ? output[ lowKey ].concat( [ filter.value[0] ] ) : [ filter.value[0] ] ) }),\n\t\t\t\t\t...(filter.value[1] != undefined && { [ highKey ]: ( Array.isArray( output[ highKey ] ) ? output[ highKey ].concat( [ filter.value[1] ] ) : [ filter.value[1] ] ) })\n\t\t\t\t}\n\n\t\t\t}\n\t\t\telse {\n\t\t\t\toutput[ keyRoot ] = output[ keyRoot ] || [];\n\t\t\t\toutput[ keyRoot ].push( filter.value );\n\t\t\t}\n\n\t\t\treturn output;\n\n\t\t}, {});\n\n\t}\n\n\t_outputSort() {\n\n\t\tif ( this.sorting.field && this.sorting.direction ) {\n\n\t\t\treturn { [ `sort.${ this.sorting.field }` ]: this.sorting.direction };\n\n\t\t}\n\n\t\treturn;\n\n\t}\n\n\t_transformFilterType( backgroundFilter ) {\n\t\treturn ( backgroundFilter ) ?\n\t\t\t'bgfilter' :\n\t\t\t'filter';\n\t}\n\n\taddFilter( field, value, backgroundFilter = false ) {\n\n\t\tif ( field == undefined ) {\n\t\t\tthrow new TypeError( '[SSAPI][State].addFilter - `field` is undefined.' );\n\t\t}\n\t\tif ( value == undefined ) {\n\t\t\tthrow new TypeError( '[SSAPI][State].addFilter - `value` is undefined.' );\n\t\t}\n\n\t\tconst filter = {\n\t\t\tfield: field,\n\t\t\tvalue: value,\n\t\t\ttype: this._transformFilterType( backgroundFilter )\n\t\t};\n\n\t\tthis.filters.push( filter );\n\n\t\treturn this;\n\n\t}\n\n\tremoveFilter( field, value, backgroundFilter = false ) {\n\n\t\tif ( field == undefined ) {\n\t\t\tthrow new TypeError( '[SSAPI][State].removeFilter - `field` is undefined.' );\n\t\t}\n\t\tif ( value == undefined ) {\n\t\t\tthrow new TypeError( '[SSAPI][State].removeFilter - `value` is undefined.' );\n\t\t}\n\n\t\tconst type = this._transformFilterType( backgroundFilter );\n\n\t\tthis.filters = this.filters.filter(( filter ) => {\n\t\t\treturn !(\n\t\t\t\tfilter.field == field &&\n\t\t\t\tfilter.type == type &&\n\t\t\t\tthis._compareFilterValues( filter.value, value )\n\t\t\t);\n\t\t});\n\n\t\treturn this;\n\n\t}\n\n\ttoggleFilter( field, value, backgroundFilter = false ) {\n\n\t\tif ( field == undefined ) {\n\t\t\tthrow new TypeError( '[SSAPI][State].toggleFilter - `field` is undefined.' );\n\t\t}\n\t\tif ( value == undefined ) {\n\t\t\tthrow new TypeError( '[SSAPI][State].toggleFilter - `value` is undefined.' );\n\t\t}\n\n\t\tconst type = this._transformFilterType( backgroundFilter );\n\n\t\tconst foundFilter = this.filters.find(( filter ) => {\n\t\t\treturn (\n\t\t\t\tfilter.field == field &&\n\t\t\t\tfilter.type == type &&\n\t\t\t\tthis._compareFilterValues( filter.value, value )\n\t\t\t);\n\t\t});\n\n\t\tif ( foundFilter ) {\n\t\t\treturn this.removeFilter( field, value, backgroundFilter );\n\t\t}\n\t\telse {\n\t\t\treturn this.addFilter( field, value, backgroundFilter );\n\t\t}\n\n\t}\n\n\tquery( q ) {\n\n\t\tthis.params.q = q;\n\n\t\treturn this;\n\n\t}\n\n\tperPage( n ) {\n\n\t\tthis.params.resultsPerPage = n;\n\n\t\treturn this;\n\n\t}\n\n\tpage( n ) {\n\n\t\tthis.params.page = n;\n\n\t\treturn this;\n\n\t}\n\n\tsort( field, direction = 'asc' ) {\n\n\t\tif ( field == undefined ) {\n\t\t\tthrow new TypeError( '[SSAPI][State].sort - \"field\" is undefined.' );\n\t\t}\n\n\t\tthis.sorting = { field: field, direction: direction };\n\n\t\treturn this;\n\n\t}\n\n\tlock() {\n\n\t\tthis.lockedState = {\n\t\t\tparams: { ...this.params },\n\t\t\tfilters: [ ...this.filters ],\n\t\t\tsorting: { ...this.sorting }\n\t\t};\n\n\t\treturn this;\n\n\t};\n\n\treset() {\n\n\t\tthis.params = ( this.lockedState.params ) ? { ...this.lockedState.params } : { ...this.defaultParams };\n\t\tthis.filters = ( this.lockedState.filters ) ? [ ...this.lockedState.filters ] : [];\n\t\tthis.sorting = ( this.lockedState.sorting ) ? { ...this.lockedState.sorting } : {};\n\n\t\treturn this;\n\n\t}\n\n\tclearFacets() {\n\n\t\tthis.filters = this.filters.filter(( filter ) => {\n\t\t\treturn !( filter.type == 'filter' );\n\t\t});\n\n\t\treturn this;\n\n\t};\n\n\tother( key, value ) {\n\n\t\tthis.params[ key ] = value;\n\n\t\treturn this;\n\n\t}\n\n\tget output() {\n\n\t\treturn {\n\t\t\t...this.params,\n\t\t\t...this._outputFilters(),\n\t\t\t...this._outputSort()\n\t\t};\n\n\t}\n\n}\n\n\nexport default State","import qs from 'qs'\nimport RequestCache from './RequestCache'\n\nconst DONE = 4;\nconst OK = 200;\n\nconst cache = new RequestCache( 30000 );\n\nclass Request {\n\n\tconstructor( endpoint, method, params ) {\n\t\tthis.endpoint = endpoint;\n\t\tthis.method = method;\n\t\tthis.params = params;\n\t}\n\n\tserializeParams( params ) {\n\t\treturn qs.stringify( params, { arrayFormat: 'repeat' } )\n\t}\n\n\tbuildUrl( endpoint, params ) {\n\t\tif ( endpoint.indexOf( '?' ) > -1 ) {\n\t\t\treturn `${ endpoint }${ params }`;\n\t\t}\n\t\telse {\n\t\t\treturn `${ endpoint }?${ params }`;\n\t\t}\n\t}\n\n\tsend() {\n\n\t\treturn new Promise(( resolve, reject ) => {\n\n\t\t\tconst queryString = this.serializeParams( { ...this.params } );\n\t\t\tconst url = this.buildUrl( this.endpoint, queryString );\n\n\t\t\tconst cacheResponse = cache.access( url );\n\t\t\tif ( cacheResponse != undefined ) {\n\t\t\t\treturn resolve( cacheResponse );\n\t\t\t}\n\n\t\t\tconst xhr = new XMLHttpRequest();\n\t\t\txhr.open( 'GET', url );\n\t\t\txhr.responseType = 'json';\n\t\t\txhr.send();\n\n\t\t\txhr.onreadystatechange = () => {\n\n\t\t\t\tif ( xhr.readyState == DONE ) {\n\n\t\t\t\t\tif ( xhr.status == OK ) {\n\n\t\t\t\t\t\tconst returnObject = {\n\t\t\t\t\t\t\tresponse: {\n\t\t\t\t\t\t\t\tstatus: xhr.status,\n\t\t\t\t\t\t\t\tresponseURL: xhr.responseURL,\n\t\t\t\t\t\t\t\tresponseType: xhr.responseType,\n\t\t\t\t\t\t\t\tdata: ( typeof xhr.response == 'object' ) ? xhr.response : JSON.parse( xhr.response )\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\trequestParams: { ...this.params },\n\t\t\t\t\t\t\trequestQueryString: queryString\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tcache.insert( url, returnObject );\n\n\t\t\t\t\t\tresolve( returnObject );\n\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\n\t\t\t\t\t\tconsole.error( `[SSAPI][Request].send - Error with response.`, `Code: ${ xhr.status }.` );\n\n\t\t\t\t\t\treject( xhr );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t});\n\n\t}\n\n}\n\nexport default Request","class RequestCache {\n\n\tconstructor( throttleTime = 1000 ) {\n\n\t\tthis.store = new Map();\n\t\tthis.throttleTime = throttleTime;\n\n\t}\n\n\taccess( key ) {\n\n\t\tconst record = this.store.get( key );\n\n\t\tif ( record ) {\n\n\t\t\tconst now = Date.now();\n\t\t\t\n\t\t\tif ( record.timestamp - now > this.throttleTime ) {\n\t\t\t\treturn this.remove( key );\n\t\t\t}\n\n\t\t\treturn record.data;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\tinsert( key, value ) {\n\n\t\tconst record = {\n\t\t\ttimestamp: Date.now(),\n\t\t\tdata: value\n\t\t};\n\n\t\tthis.store.set( key, record );\n\n\t\treturn true;\n\n\t}\n\n\tpurge() {\n\n\t\tthis.store.clear();\n\n\t\treturn true;\n\n\t}\n\n\tremove( key ) {\n\n\t\treturn this.store.delete( key );\n\n\t}\n\n}\n\nexport default RequestCache","import State from './State'\nimport Request from './Request'\nimport 'custom-event-polyfill'\n\nclass Client {\n\n\tconstructor( siteId, defaultSearchParams = {}, debug = false ) {\n\n\t\tif ( siteId == undefined ) {\n\t\t\tthrow new TypeError( '[SSAPI][Client].constructor - `siteId` is undefined.' );\n\t\t}\n\n\t\tthis.state = new State( siteId, defaultSearchParams, debug );\n\n\t\tthis.endpoint = 'https://api.searchspring.net/api/search/search.json';\n\n\t\tthis.method = 'GET';\n\n\t\tthis.events = [\n\t\t\t'search'\n\t\t];\n\n\t\tthis.bus = document.createElement( 'div' );\n\n\t\tthis.debug = debug;\n\n\t\tthis.stateSetFromFunction = false;\n\n\t}\n\n\tsearch() {\n\n\t\treturn new Request(\n\t\t\tthis.endpoint,\n\t\t\tthis.method,\n\t\t\tthis.state.output\n\t\t)\n\t\t.send()\n\t\t.then(( request ) => {\n\n\t\t\t// dispatch SEARCH event; pass request data\n\t\t\tthis.bus.dispatchEvent( new CustomEvent( 'search', { detail: request } ) );\n\n\t\t\t// fix state for first response after state set from function\n\t\t\tif ( this.stateSetFromFunction ) {\n\n\t\t\t\tthis.stateSetFromFunction = false;\n\n\t\t\t\t// reset filters\n\t\t\t\tthis.state.filters = this.state.filters.filter( filter => filter.type === 'bgfilter' );\n\n\t\t\t\t// re-add filters to the state from the summary\n\t\t\t\tif ( request.response.data && request.response.data.filterSummary && request.response.data.filterSummary.length > 0 ) {\n\n\t\t\t\t\trequest.response.data.filterSummary.map(filter => {\n\t\t\t\t\t\tthis.filter( filter.field, ( typeof filter.value === 'object' ) ? [ filter.value.rangeLow, filter.value.rangeHigh ] : filter.value );\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t\t\n\t\t\treturn request;\n\n\t\t});\n\n\t}\n\n\ton( event, callback ) {\n\n\t\tif ( this.events.indexOf( event ) === -1 ) {\n\t\t\tthrow new Error( `[SSAPI][Client].on - Event \"${ event }\" does not exist.` );\n\t\t}\n\n\t\tthis.bus.addEventListener( event, callback, false );\n\n\t}\n\t\n\toff( event, callback ) {\n\t\t\n\t\tif ( this.events.indexOf( event ) === -1 ) {\n\t\t\tthrow new Error( `[SSAPI][Client].off - Event \"${ event }\" does not exist.` );\n\t\t}\n\n\t\tthis.bus.removeEventListener( event, callback, false );\n\n\t}\n\n\tsetState( state ) {\n\n\t\tif ( state == undefined ) {\n\t\t\tthrow new TypeError( '[SSAPI][Client].setState - `state` is undefined.' );\n\t\t}\n\n\t\tconst dynamicSetTests = [\n\t\t\t{\n\t\t\t\tpattern: /^sort\\.(.*)$/,\n\t\t\t\tfn: 'sort',\n\t\t\t\tmatch: 1\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /^filter\\.(.*)$/,\n\t\t\t\tfn: 'filter',\n\t\t\t\tmatch: 1\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /^bgfilter\\.(.*)$/,\n\t\t\t\tfn: 'backgroundFilter',\n\t\t\t\tmatch: 1\n\t\t\t}\n\t\t];\n\n\t\tfor ( let prop in state ) {\n\n\t\t\tlet value = state[ prop ];\n\n\t\t\tswitch( prop ) {\n\t\t\t\tcase 'q': {\n\t\t\t\t\tthis.query( value, false );\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 'resultsPerPage': {\n\t\t\t\t\tthis.perPage( value, false );\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 'page': {\n\t\t\t\t\tthis.page( value );\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tdefault: {\n\n\t\t\t\t\tconst testPassed = dynamicSetTests.some(( test ) => {\n\t\t\t\t\t\tconst match = prop.match( test.pattern );\n\t\t\t\t\t\tif ( match ) {\n\n\t\t\t\t\t\t\tif ( Array.isArray( value ) ) {\n\t\t\t\t\t\t\t\tvalue.map(( filterValue ) => {\n\n\t\t\t\t\t\t\t\t\tif ( filterValue != undefined ) {\n\n\t\t\t\t\t\t\t\t\t\tthis[ test.fn ]( match[ test.match ], filterValue, false );\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\n\t\t\t\t\t\t\t\tif ( value != undefined ) {\n\n\t\t\t\t\t\t\t\t\tthis[ test.fn ]( match[ test.match ], value, false );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tif ( !testPassed ) {\n\n\t\t\t\t\t\tthis.other( prop, value );\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t\tthis.stateSetFromFunction = true;\n\n\t\treturn this;\n\n\t}\n\n\tother( key, value ) {\n\n\t\tthis.state.other( key, value );\n\n\t\treturn this;\n\n\t}\n\n\treset() {\n\n\t\tthis.state.reset();\n\n\t\treturn this;\n\n\t}\n\n\tlock() {\n\n\t\tthis.state.lock();\n\n\t\treturn this;\n\t\t\n\t}\n\n\tclearFacets( resetPage = true ) {\n\n\t\tif ( resetPage ) {\n\t\t\tthis.state.page( 1 );\n\t\t}\n\n\t\tthis.state.clearFacets();\n\n\t\treturn this;\n\n\t}\n\n\tclearFilters( resetPage ) {\n\n\t\tthis.clearFacets( resetPage );\n\n\t\treturn this;\n\n\t}\n\n\tperPage( n, resetPage = true ) {\n\n\t\tif ( resetPage ) {\n\t\t\tthis.state.page( 1 );\n\t\t}\n\n\t\tthis.state.perPage( n );\n\n\t\treturn this;\n\n\t}\n\n\tpage( n ) {\n\n\t\tthis.state.page( n );\n\n\t\treturn this;\n\n\t}\n\n\tsort( field, direction ) {\n\n\t\tif ( this.debug ) console.trace( `[SSAPI][Client].sort - field: ${ field } | direction: ${ direction }` );\n\n\t\tthis.state.sort( field, direction );\n\n\t\treturn this;\n\n\t}\n\n\tfilter( field, value, resetPage = true ) {\n\n\t\tif ( resetPage ) {\n\t\t\tthis.state.page( 1 );\n\t\t}\n\n\t\tthis.state.toggleFilter( field, value, false );\n\n\t\treturn this;\n\n\t}\n\n\tfacet( field, value, resetPage ) {\n\n\t\tthis.filter( field, value, resetPage );\n\n\t\treturn this;\n\n\t}\n\n\tbackgroundFilter( field, value, resetPage = true ) {\n\n\t\tif ( resetPage ) {\n\t\t\tthis.state.page( 1 );\n\t\t}\n\n\t\tthis.state.toggleFilter( field, value, true );\n\n\t\treturn this;\n\n\t}\n\n\tbackgroundFacet( field, value, resetPage ) {\n\n\t\tthis.backgroundFilter( field, value, resetPage );\n\n\t\treturn this;\n\n\t}\n\n\tquery( q, resetPage = true ) {\n\n\t\tif ( resetPage ) {\n\t\t\tthis.state.page( 1 );\n\t\t}\n\n\t\tthis.state.query( q );\n\n\t\treturn this;\n\t}\n\n}\n\nexport default Client","import Client from './SSAPI/Client.js'\n\n// static methods\nconst createPages = ( pagination ) => {\n\tconst pages = [];\n\tfor( let i = 1; i <= pagination.totalPages; i++ ) {\n\t\tpages.push( i );\n\t}\n\treturn pages;\n};\n\nexport {\n\tClient,\n\tcreatePages\n}"],"sourceRoot":""}